# CAAS Fresh E2E Report

- Generated: 2026-02-27T13:30:24.512Z
- Total: 71
- Passed: 70
- Warnings: 0
- Failed: 1

## Phase Breakdown

| Phase | Total | Passed | Warnings | Failed |
|---|---:|---:|---:|---:|
| 01-health-and-basics | 10 | 10 | 0 | 0 |
| 02-cors-and-registration | 18 | 18 | 0 | 0 |
| 03-project-lifecycle-and-scope | 12 | 12 | 0 | 0 |
| 04-sdk-http-contract | 9 | 8 | 0 | 1 |
| 05-socket-e2e | 16 | 16 | 0 | 0 |
| 06-admin-ui-gateway-flow | 6 | 6 | 0 | 0 |

## Failed Cases

### 1. SDK logout with bearer
```json
{
  "method": "POST",
  "url": "http://gateway:3000/api/v1/sdk/logout",
  "status": 403,
  "headers": {
    "access-control-allow-credentials": "true",
    "access-control-expose-headers": "X-Total-Count, X-Page-Count, X-Correlation-Id",
    "connection": "keep-alive",
    "content-length": "150",
    "content-security-policy": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests",
    "content-type": "application/json; charset=utf-8",
    "cross-origin-opener-policy": "same-origin",
    "cross-origin-resource-policy": "same-origin",
    "date": "Fri, 27 Feb 2026 13:30:26 GMT",
    "keep-alive": "timeout=72",
    "origin-agent-cluster": "?1",
    "referrer-policy": "no-referrer",
    "strict-transport-security": "max-age=15552000; includeSubDomains",
    "vary": "Origin",
    "x-content-type-options": "nosniff",
    "x-correlation-id": "209e89eb-b343-4765-87d1-d1efbf0b47e2",
    "x-dns-prefetch-control": "off",
    "x-download-options": "noopen",
    "x-frame-options": "SAMEORIGIN",
    "x-permitted-cross-domain-policies": "none",
    "x-ratelimit-limit": "100",
    "x-ratelimit-remaining": "72",
    "x-ratelimit-reset": "59",
    "x-xss-protection": "0"
  },
  "response": {
    "error": "Forbidden",
    "message": "Role '' does not have permission to 'create' on 'resource'",
    "required_permission": "create",
    "resource_type": "resource"
  },
  "requestBody": null
}
```


## All Cases

1. [PASSED] 01-health-and-basics :: Gateway /health
2. [PASSED] 01-health-and-basics :: Gateway /internal/health
3. [PASSED] 01-health-and-basics :: Auth /health
4. [PASSED] 01-health-and-basics :: Compliance /health
5. [PASSED] 01-health-and-basics :: Crypto /health
6. [PASSED] 01-health-and-basics :: Search /health
7. [PASSED] 01-health-and-basics :: Media /health
8. [PASSED] 01-health-and-basics :: Socket1 /health
9. [PASSED] 01-health-and-basics :: Socket2 /health
10. [PASSED] 01-health-and-basics :: Admin Portal /api/health
11. [PASSED] 02-cors-and-registration :: Gateway preflight register with custom headers
12. [PASSED] 02-cors-and-registration :: CORS allow header includes content-type
13. [PASSED] 02-cors-and-registration :: CORS allow header includes authorization
14. [PASSED] 02-cors-and-registration :: CORS allow header includes x-correlation-id
15. [PASSED] 02-cors-and-registration :: CORS allow header includes idempotency-key
16. [PASSED] 02-cors-and-registration :: CORS allow header includes x-timestamp
17. [PASSED] 02-cors-and-registration :: CORS allow header includes x-nonce
18. [PASSED] 02-cors-and-registration :: CORS allow header includes x-project-id
19. [PASSED] 02-cors-and-registration :: Admin proxy register
20. [PASSED] 02-cors-and-registration :: Admin proxy register duplicate email
21. [PASSED] 02-cors-and-registration :: Gateway register negative matrix :: missing fields
22. [PASSED] 02-cors-and-registration :: Gateway register negative matrix :: invalid email
23. [PASSED] 02-cors-and-registration :: Gateway register negative matrix :: short password
24. [PASSED] 02-cors-and-registration :: Gateway register negative matrix :: invalid project environment
25. [PASSED] 02-cors-and-registration :: Gateway client login
26. [PASSED] 02-cors-and-registration :: Admin proxy login
27. [PASSED] 02-cors-and-registration :: Admin proxy refresh with cookie
28. [PASSED] 02-cors-and-registration :: Gateway refresh token
29. [PASSED] 03-project-lifecycle-and-scope :: List projects initial
30. [PASSED] 03-project-lifecycle-and-scope :: Create secondary project
31. [PASSED] 03-project-lifecycle-and-scope :: Update project metadata
32. [PASSED] 03-project-lifecycle-and-scope :: Select updated project as active
33. [PASSED] 03-project-lifecycle-and-scope :: Update project client spoof attempt rejected
34. [PASSED] 03-project-lifecycle-and-scope :: Archive selected project
35. [PASSED] 03-project-lifecycle-and-scope :: List projects after archive
36. [PASSED] 03-project-lifecycle-and-scope :: Archive last active project rejected
37. [PASSED] 03-project-lifecycle-and-scope :: Project select spoofed client_id rejected
38. [PASSED] 03-project-lifecycle-and-scope :: Project create spoofed client_id rejected
39. [PASSED] 03-project-lifecycle-and-scope :: Project list still available
40. [PASSED] 03-project-lifecycle-and-scope :: Project list count check
41. [PASSED] 04-sdk-http-contract :: SDK health endpoint
42. [PASSED] 04-sdk-http-contract :: SDK capabilities with API key
43. [PASSED] 04-sdk-http-contract :: SDK session create valid
44. [PASSED] 04-sdk-http-contract :: SDK session replay nonce rejected
45. [PASSED] 04-sdk-http-contract :: SDK session project mismatch rejected
46. [PASSED] 04-sdk-http-contract :: SDK refresh/logout matrix :: refresh invalid token
47. [PASSED] 04-sdk-http-contract :: SDK refresh/logout matrix :: refresh valid token
48. [PASSED] 04-sdk-http-contract :: SDK logout missing bearer
49. [FAILED] 04-sdk-http-contract :: SDK logout with bearer
50. [PASSED] 05-socket-e2e :: Socket /chat rejects missing token
51. [PASSED] 05-socket-e2e :: Socket /chat authenticated connect
52. [PASSED] 05-socket-e2e :: Socket chat joinRoom invalid
53. [PASSED] 05-socket-e2e :: Socket chat joinRoom valid-shape
54. [PASSED] 05-socket-e2e :: Socket chat sendMessage invalid
55. [PASSED] 05-socket-e2e :: Socket chat sendMessage valid-shape
56. [PASSED] 05-socket-e2e :: Socket chat typing_query
57. [PASSED] 05-socket-e2e :: Socket chat message_read invalid
58. [PASSED] 05-socket-e2e :: Socket chat message_delivered invalid
59. [PASSED] 05-socket-e2e :: Socket chat leaveRoom valid-shape
60. [PASSED] 05-socket-e2e :: Socket /presence authenticated connect
61. [PASSED] 05-socket-e2e :: Socket presence_subscribe ack
62. [PASSED] 05-socket-e2e :: Socket presence_unsubscribe ack
63. [PASSED] 05-socket-e2e :: Socket /webrtc authenticated connect
64. [PASSED] 05-socket-e2e :: Socket webrtc call:initiate ack
65. [PASSED] 05-socket-e2e :: Socket webrtc ice-candidate invalid ack
66. [PASSED] 06-admin-ui-gateway-flow :: Admin dashboard without auth redirect
67. [PASSED] 06-admin-ui-gateway-flow :: Admin api auth logout
68. [PASSED] 06-admin-ui-gateway-flow :: Gateway tenant with missing bearer
69. [PASSED] 06-admin-ui-gateway-flow :: Gateway tenant with bearer
70. [PASSED] 06-admin-ui-gateway-flow :: Gateway project preflight matrix :: allowed origin with custom headers
71. [PASSED] 06-admin-ui-gateway-flow :: Gateway project preflight matrix :: disallowed origin